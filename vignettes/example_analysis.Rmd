---
title: "Example Analysis"
author: "Yuan Gao"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Example Analysis}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

# Datasets & Qestion
## pick up the dataset
in this part, I'll use the [TidyTuesday patient children cost  datasets](https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-05-09/readme.md) to conduct analysis.  
- original data download [link](https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-05-09/childcare_costs.csv).  
- [data dictionary](https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-05-09/readme.md#childcare_costscsv)

## research question
question: How do social determinants of health influence the children medical costs? 

## loading the data
```{r}
# Get the Data

# Read in with tidytuesdayR package 
# Install from CRAN via: install.packages("tidytuesdayR")
# This loads the readme and all the datasets for the week of interest

# Either ISO-8601 date or year/week works!
# tuesdata <- tidytuesdayR::tt_load('2023-05-09')
# tuesdata <- tidytuesdayR::tt_load(2023, week = 19)
# childcare_costs <- tuesdata$childcare_costs
# counties <- tuesdata$counties

# Or read in the data manually
childcare_costs <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-05-09/childcare_costs.csv')
counties <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-05-09/counties.csv')
```

- test if a directory named `data` exists locally.
```{r}
# Check if the "data" directory exists
if (!dir.exists("data")) {
  # If it doesn't exist, create it
  dir.create("data")
}
```
- Saves the data only once (not each time you knit/render the document).
```{r}
file_path <- "data/childcare_costs.csv"
if (!file.exists(file_path)) {
  write.csv(childcare_costs, file_path, row.names = FALSE)
}
```
- Read in the data locally each time you knit/render.
```{r}
df <- read.csv(file_path)
```


